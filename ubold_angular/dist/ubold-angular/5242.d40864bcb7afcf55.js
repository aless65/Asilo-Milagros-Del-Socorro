"use strict";(self.webpackChunkubold_angular=self.webpackChunkubold_angular||[]).push([[5242],{65242:(F,p,i)=>{i.r(p),i.d(p,{ContactsModule:()=>j});var m=i(69808),l=i(52382),u=i(59182),b=i(1413),h=i(29095),v=i(4521),f=i(15877),e=i(5e3),C=i(22313),g=i(39475),y=i(59699);const x=["advancedTable"],E=["content"];function S(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275text(1," Please provide valid name "),e.\u0275\u0275elementEnd())}function _(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275text(1," Please provide valid email "),e.\u0275\u0275elementEnd())}function I(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275text(1," Please provide valid phone "),e.\u0275\u0275elementEnd())}function T(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275text(1," Please provide valid location "),e.\u0275\u0275elementEnd())}const c=function(a){return{"is-invalid":a}};function w(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30)(1,"h4",31),e.\u0275\u0275text(2,"Add Contact"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.dismiss("")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",33)(5,"form",34,35)(7,"div",26)(8,"label",36),e.\u0275\u0275text(9,"Full Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",37),e.\u0275\u0275template(11,S,2,0,"div",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",26)(13,"label",39),e.\u0275\u0275text(14,"Email address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",40),e.\u0275\u0275template(16,_,2,0,"div",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",26)(18,"label",41),e.\u0275\u0275text(19,"Phone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",42),e.\u0275\u0275template(21,I,2,0,"div",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",26)(23,"label",43),e.\u0275\u0275text(24,"Location"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"input",44),e.\u0275\u0275template(26,T,2,0,"div",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",45)(28,"button",46),e.\u0275\u0275text(29,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"button",47),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.close("")}),e.\u0275\u0275text(31,"Continue"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275reference(6),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",n.newContact),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,c,t.submitted&&n.form1.name.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&n.form1.name.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,c,t.submitted&&n.form1.email.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&n.form1.email.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,c,t.submitted&&n.form1.phone.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&n.form1.phone.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,c,t.submitted&&n.form1.location.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&n.form1.location.invalid)}}const L=[{path:"",component:(()=>{class a{constructor(t,n,o){this.sanitizer=t,this.activeModal=n,this.fb=o,this.pageTitle=[],this.contacts=[],this.columns=[]}ngOnInit(){this.pageTitle=[{label:"CRM",path:"/"},{label:"Contacts",path:"/",active:!0}],this._fetchData(),this.initAdvancedTableData(),this.selectedContact=this.contacts[0],this.newContact=this.fb.group({name:["",l.kI.required],email:["",[l.kI.required,l.kI.email]],phone:["",l.kI.required],location:["",l.kI.required]})}get form1(){return this.newContact.controls}openModal(){this.activeModal.open(this.content,{centered:!0})}_fetchData(){this.contacts=f.LU}initAdvancedTableData(){this.columns=[{name:"name",label:"Basic Info",formatter:this.customerNameFormatter.bind(this)},{name:"phone",label:"Phone",formatter:t=>t.phone},{name:"email",label:"Email",formatter:t=>t.email},{name:"company",label:"Company Name",formatter:t=>t.company},{name:"created_date",label:"Created Date",formatter:t=>t.created_date},{name:"Action",label:"Action",width:82,formatter:this.customerActionFormatter.bind(this),sort:!1}]}handleTableLoad(t){document.querySelectorAll(".customer").forEach(n=>{n.addEventListener("click",()=>{this.selectedContact=this.contacts[Number(n.id)-1],console.log(this.selectedContact)})}),document.querySelectorAll(".action-icon").forEach(n=>{n.addEventListener("click",()=>{console.log("le dio"),console.log(this.contacts)})})}customerNameFormatter(t){return console.log(t),this.sanitizer.bypassSecurityTrustHtml(`\n      <div class="table-user">\n      <img src="${t.avatar}" alt="table-user" class="me-2 rounded-circle">\n       <a href="javascript:void(0);" class="customer text-body fw-semibold" id="${t.id}">${t.name}</a>\n       </div>\n      `)}customerActionFormatter(){return this.sanitizer.bypassSecurityTrustHtml(' <a href="javascript:void(0);" class="action-icon"> <i class="mdi mdi-square-edit-outline"></i></a>\n        <a href="javascript:void(0);" class="action-icon"> <i class="mdi mdi-delete"></i></a>')}matches(t,n){var o,d,s;return(null===(o=t.name)||void 0===o?void 0:o.toLowerCase().includes(n))||(null===(d=t.phone)||void 0===d?void 0:d.toLowerCase().includes(n))||t.created_date.toLowerCase().includes(n)||t.company.toLowerCase().includes(n)||(null===(s=t.email)||void 0===s?void 0:s.toLocaleLowerCase().includes(n))}searchData(t){if(""===t)this._fetchData();else{let n=f.LU;n=n.filter(o=>this.matches(o,t)),this.contacts=n}}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(C.DomSanitizer),e.\u0275\u0275directiveInject(u.FF),e.\u0275\u0275directiveInject(l.qu))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-crm-contacts"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(x,5),e.\u0275\u0275viewQuery(E,7)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.advancedTable=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.content=o.first)}},decls:59,vars:12,consts:[["title","Contacts",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-8"],[1,"card"],[1,"card-body"],[1,"row","justify-content-between","mb-2"],[1,"col-12"],["type","button",1,"btn","btn-success","waves-effect","waves-light","mb-2","float-end"],[1,"mdi","mdi-cog"],["type","button",1,"btn","btn-danger","waves-effect","waves-light","mb-2",3,"click"],["tableClasses","table-centered table-nowrap table-hover",3,"tableData","columns","pagination","isSearchable","hasRowSelection","isSortable","handleTableLoad","search"],["advancedTable",""],[1,"col-lg-4"],[1,"d-flex","align-items-start","mb-3"],["alt","Generic placeholder image",1,"d-flex","me-3","rounded-circle","avatar-lg",3,"src"],[1,"w-100"],[1,"mt-0","mb-1"],[1,"text-muted"],[1,"mdi","mdi-office-building"],["href","javascript: void(0);",1,"btn","btn-xs","btn-info","me-1"],["href","javascript: void(0);",1,"btn","btn-xs","btn-secondary","me-1"],["href","javascript: void(0);",1,"btn","btn-xs","btn-secondary"],[1,"mb-3","mt-4","text-uppercase","bg-light","p-2"],[1,"mdi","mdi-account-circle","me-1"],[1,""],[1,"font-13","text-muted","text-uppercase"],[1,"mb-3"],[1,"font-13","text-muted","text-uppercase","mb-1"],[1,"mb-0"],["content",""],[1,"modal-header","bg-light"],["id","myCenterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[3,"formGroup"],["addContact","ngForm"],["for","name",1,"form-label"],["type","text","id","name","placeholder","Enter full name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Enter email","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","position",1,"form-label"],["type","text","id","position","placeholder","Enter phone number","required","","formControlName","phone",1,"form-control",3,"ngClass"],["for","category",1,"form-label"],["type","text","id","category","placeholder","Enter Location","required","","formControlName","location",1,"form-control",3,"ngClass"],[1,"text-end"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","me-1"],["type","button",1,"btn","btn-danger","waves-effect","waves-light",3,"click"],[1,"invalid-feedback"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-page-title",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div")(8,"button",7),e.\u0275\u0275element(9,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",9),e.\u0275\u0275listener("click",function(){return n.openModal()}),e.\u0275\u0275text(11,"Add Contact"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(12,"app-advanced-table",10,11),e.\u0275\u0275listener("handleTableLoad",function(d){return n.handleTableLoad(d)})("search",function(d){return n.searchData(d)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(14,"div",12)(15,"div",3)(16,"div",4)(17,"div",13),e.\u0275\u0275element(18,"img",14),e.\u0275\u0275elementStart(19,"div",15)(20,"h4",16),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"p",17),e.\u0275\u0275text(23,"Branch manager"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"p",17),e.\u0275\u0275element(25,"i",18),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"a",19),e.\u0275\u0275text(28,"Send Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"a",20),e.\u0275\u0275text(30,"Call"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"a",21),e.\u0275\u0275text(32,"Edit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"h5",22),e.\u0275\u0275element(34,"i",23),e.\u0275\u0275text(35," Personal Information"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",24)(37,"h4",25),e.\u0275\u0275text(38,"About Me :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"p",26),e.\u0275\u0275text(40),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"h4",27),e.\u0275\u0275text(42,"Date of Birth :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"p",26),e.\u0275\u0275text(44," March 23, 1984 (34 Years)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"h4",27),e.\u0275\u0275text(46,"Company :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"p",26),e.\u0275\u0275text(48),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"h4",27),e.\u0275\u0275text(50,"Added :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"p",26),e.\u0275\u0275text(52," April 22, 2016"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"h4",27),e.\u0275\u0275text(54,"Updated :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"p",28),e.\u0275\u0275text(56," Dec 13, 2017"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(57,w,32,17,"ng-template",null,29,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("breadcrumbItems",n.pageTitle),e.\u0275\u0275advance(12),e.\u0275\u0275property("tableData",n.contacts)("columns",n.columns)("pagination",!0)("isSearchable",!0)("hasRowSelection",!1)("isSortable",!1),e.\u0275\u0275advance(6),e.\u0275\u0275property("src",n.selectedContact.avatar,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.selectedContact.name),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",n.selectedContact.company,""),e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate1(" Hi I'm ",n.selectedContact.name,",has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type. "),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(n.selectedContact.company))},directives:[g.T,y.j,l._Y,l.JL,l.sg,l.Fj,l.Q7,l.JJ,l.u,m.NgClass,m.NgIf],styles:[""]}),a})()}];let M=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[v.Bz.forChild(L)],v.Bz]}),a})(),j=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[m.CommonModule,l.u5,l.UX,u.bz,b.$,h.p,M]]}),a})()}}]);