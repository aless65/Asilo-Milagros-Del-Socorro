"use strict";(self.webpackChunkubold_angular=self.webpackChunkubold_angular||[]).push([[6703],{26703:(j,u,l)=>{l.r(u),l.d(u,{CustomersModule:()=>L});var d=l(69808),r=l(52382),p=l(59182),b=l(1413),C=l(29095),v=l(4521),f=l(15877),e=l(5e3),h=l(22313),g=l(39475),y=l(59699);const _=["advancedTable"],x=["content"];function S(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid name "),e.\u0275\u0275elementEnd())}function E(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid email "),e.\u0275\u0275elementEnd())}function I(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid phone "),e.\u0275\u0275elementEnd())}function T(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275text(1," Please provide valid location "),e.\u0275\u0275elementEnd())}const m=function(n){return{"is-invalid":n}};function F(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18)(1,"h4",19),e.\u0275\u0275text(2,"Add New Customers"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",20),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.dismiss("")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",21)(5,"form",22,23)(7,"div",24)(8,"label",25),e.\u0275\u0275text(9,"Full Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",26),e.\u0275\u0275template(11,S,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",24)(13,"label",28),e.\u0275\u0275text(14,"Email address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",29),e.\u0275\u0275template(16,E,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",24)(18,"label",30),e.\u0275\u0275text(19,"Phone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",31),e.\u0275\u0275template(21,I,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",24)(23,"label",32),e.\u0275\u0275text(24,"Location"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"input",33),e.\u0275\u0275template(26,T,2,0,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",34)(28,"button",35),e.\u0275\u0275text(29,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"button",7),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t).$implicit.close("")}),e.\u0275\u0275text(31,"Continue"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275reference(6),a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",a.newCustomer),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,m,t.submitted&&a.form1.name.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&a.form1.name.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,m,t.submitted&&a.form1.email.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&a.form1.email.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,m,t.submitted&&a.form1.phone.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&a.form1.phone.invalid),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,m,t.submitted&&a.form1.location.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.submitted&&a.form1.location.invalid)}}const w=[{path:"",component:(()=>{class n{constructor(t,a,o){this.sanitizer=t,this.activeModal=a,this.fb=o,this.pageTitle=[],this.customers=[],this.columns=[]}ngOnInit(){this.pageTitle=[{label:"CRM",path:"/"},{label:"Customers",path:"/",active:!0}],this._fetchData(),this.initAdvancedTableData(),this.newCustomer=this.fb.group({name:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],phone:["",r.kI.required],location:["",r.kI.required]})}get form1(){return this.newCustomer.controls}openModal(){this.activeModal.open(this.content,{centered:!0})}_fetchData(){this.customers=f.LU}initAdvancedTableData(){this.columns=[{name:"name",label:"Customer",formatter:this.customerNameFormatter.bind(this)},{name:"phone",label:"Phone",formatter:t=>t.phone},{name:"email",label:"Email",formatter:t=>t.email},{name:"location",label:"Location",formatter:t=>t.location},{name:"created_date",label:"Created On",formatter:t=>t.created_date},{name:"status",label:"Status",formatter:this.customerStatusFormatter.bind(this)},{name:"Action",label:"Action",width:82,formatter:this.customerActionFormatter.bind(this),sort:!1}]}customerNameFormatter(t){return this.sanitizer.bypassSecurityTrustHtml(`\n      <div class="table-user">\n      <img src="${t.avatar}" alt="table-user" class="me-2 rounded-circle">\n       <a href="javascript:void(0);" class="customer text-body fw-semibold" id="${t.id}">${t.name}</a>\n       </div>\n      `)}customerStatusFormatter(t){return this.sanitizer.bypassSecurityTrustHtml("Active"==t.status?'<span class="badge bg-soft-success text-success">Active</span>':'<span class="badge bg-soft-danger text-danger">Blocked</span>')}customerActionFormatter(){return this.sanitizer.bypassSecurityTrustHtml(' <a href="javascript:void(0);" class="action-icon"> <i class="mdi mdi-square-edit-outline"></i></a>\n        <a href="javascript:void(0);" class="action-icon"> <i class="mdi mdi-delete"></i></a>')}matches(t,a){var o,s,c;return(null===(o=t.name)||void 0===o?void 0:o.toLowerCase().includes(a))||(null===(s=t.phone)||void 0===s?void 0:s.toLowerCase().includes(a))||t.created_date.toLowerCase().includes(a)||t.company.toLowerCase().includes(a)||(null===(c=t.email)||void 0===c?void 0:c.toLocaleLowerCase().includes(a))}searchData(t){if(""===t)this._fetchData();else{let a=f.LU;a=a.filter(o=>this.matches(o,t)),this.customers=a}}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(h.DomSanitizer),e.\u0275\u0275directiveInject(p.FF),e.\u0275\u0275directiveInject(r.qu))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-crm-customers"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(_,5),e.\u0275\u0275viewQuery(x,7)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(a.advancedTable=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(a.content=o.first)}},decls:22,vars:7,consts:[["title","Customers",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],["type","button",1,"btn","btn-danger","waves-effect","waves-light",3,"click"],[1,"mdi","mdi-plus-circle","me-1"],[1,"col-sm-8"],[1,"text-sm-end","mt-2","mt-sm-0"],["type","button",1,"btn","btn-success","mb-2","me-1"],[1,"mdi","mdi-cog"],["type","button",1,"btn","btn-light","mb-2","me-1"],["type","button",1,"btn","btn-light","mb-2"],["tableClasses","table-centered table-nowrap",3,"tableData","columns","pagination","isSearchable","hasRowSelection","isSortable","search"],["advancedTable",""],["content",""],[1,"modal-header","bg-light"],["id","myCenterModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[3,"formGroup"],["addCustomer","ngForm"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","placeholder","Enter full name","required","","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","placeholder","Enter email","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","position",1,"form-label"],["type","text","id","position","placeholder","Enter phone number","required","","formControlName","phone",1,"form-control",3,"ngClass"],["for","category",1,"form-label"],["type","text","id","category","placeholder","Enter Location","required","","formControlName","location",1,"form-control",3,"ngClass"],[1,"text-end"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","me-1"],[1,"invalid-feedback"]],template:function(t,a){1&t&&(e.\u0275\u0275element(0,"app-page-title",0),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.\u0275\u0275listener("click",function(){return a.openModal()}),e.\u0275\u0275element(8,"i",8),e.\u0275\u0275text(9," Add Customers"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",9)(11,"div",10)(12,"button",11),e.\u0275\u0275element(13,"i",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",13),e.\u0275\u0275text(15,"Import"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",14),e.\u0275\u0275text(17,"Export"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"app-advanced-table",15,16),e.\u0275\u0275listener("search",function(s){return a.searchData(s)}),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(20,F,32,17,"ng-template",null,17,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("breadcrumbItems",a.pageTitle),e.\u0275\u0275advance(18),e.\u0275\u0275property("tableData",a.customers)("columns",a.columns)("pagination",!0)("isSearchable",!0)("hasRowSelection",!0)("isSortable",!1))},directives:[g.T,y.j,r._Y,r.JL,r.sg,r.Fj,r.Q7,r.JJ,r.u,d.NgClass,d.NgIf],styles:[""]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[v.Bz.forChild(w)],v.Bz]}),n})(),L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[d.CommonModule,r.u5,r.UX,p.bz,b.$,C.p,M]]}),n})()}}]);