{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { COMPANYLIST } from '../shared/data';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../../shared/page-title/page-title.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ng-apexcharts\";\nconst _c0 = [\"content\"];\n\nfunction LeadsComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 31)(3, \"div\", 32)(4, \"div\", 33);\n    i0.ɵɵelement(5, \"img\", 34);\n    i0.ɵɵelementStart(6, \"div\", 35)(7, \"h4\", 36);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 37)(10, \"b\");\n    i0.ɵɵtext(11, \"Location:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 38)(14, \"b\");\n    i0.ɵɵtext(15, \"Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(17, \"div\", 39)(18, \"div\", 40)(19, \"p\", 41);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 32)(22, \"div\", 42)(23, \"a\", 43);\n    i0.ɵɵtext(24, \"Assign\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"a\", 43);\n    i0.ɵɵtext(26, \"Call\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"a\", 43);\n    i0.ɵɵtext(28, \"Email\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 39)(30, \"div\", 44)(31, \"a\", 45);\n    i0.ɵɵelement(32, \"i\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"a\", 45);\n    i0.ɵɵelement(34, \"i\", 47);\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const company_r3 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", company_r3.logo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(company_r3.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", company_r3.location, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", company_r3.category, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(company_r3.date);\n  }\n}\n\nfunction LeadsComponent_ng_template_42_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵtext(1, \" Please provide valid name \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LeadsComponent_ng_template_42_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵtext(1, \" Please provide valid email \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LeadsComponent_ng_template_42_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵtext(1, \" Please provide valid phone \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LeadsComponent_ng_template_42_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵtext(1, \" Please provide valid category \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nfunction LeadsComponent_ng_template_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"h4\", 49);\n    i0.ɵɵtext(2, \"Add New Opportunity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function LeadsComponent_ng_template_42_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const modal_r4 = restoredCtx.$implicit;\n      return modal_r4.dismiss(\"\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 51)(5, \"form\", 52, 53)(7, \"div\", 54)(8, \"label\", 55);\n    i0.ɵɵtext(9, \"Full Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 56);\n    i0.ɵɵtemplate(11, LeadsComponent_ng_template_42_div_11_Template, 2, 0, \"div\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 54)(13, \"label\", 58);\n    i0.ɵɵtext(14, \"Email address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 59);\n    i0.ɵɵtemplate(16, LeadsComponent_ng_template_42_div_16_Template, 2, 0, \"div\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 54)(18, \"label\", 60);\n    i0.ɵɵtext(19, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 61);\n    i0.ɵɵtemplate(21, LeadsComponent_ng_template_42_div_21_Template, 2, 0, \"div\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 54)(23, \"label\", 62);\n    i0.ɵɵtext(24, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 63);\n    i0.ɵɵtemplate(26, LeadsComponent_ng_template_42_div_26_Template, 2, 0, \"div\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 64)(28, \"button\", 65);\n    i0.ɵɵtext(29, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function LeadsComponent_ng_template_42_Template_button_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const modal_r4 = restoredCtx.$implicit;\n      return modal_r4.close(\"\");\n    });\n    i0.ɵɵtext(31, \"Continue\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(6);\n\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.newOpportunity);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c1, _r5.submitted && ctx_r2.form1.name.invalid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.submitted && ctx_r2.form1.name.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c1, _r5.submitted && ctx_r2.form1.email.invalid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.submitted && ctx_r2.form1.email.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c1, _r5.submitted && ctx_r2.form1.phone.invalid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.submitted && ctx_r2.form1.phone.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c1, _r5.submitted && ctx_r2.form1.category.invalid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.submitted && ctx_r2.form1.category.invalid);\n  }\n}\n\nexport let LeadsComponent = /*#__PURE__*/(() => {\n  class LeadsComponent {\n    constructor(activeModal, fb) {\n      this.activeModal = activeModal;\n      this.fb = fb;\n      this.pageTitle = [];\n      this.companyList = [];\n      this.searchTerm = '';\n    }\n\n    ngOnInit() {\n      this.pageTitle = [{\n        label: 'CRM',\n        path: '/'\n      }, {\n        label: 'Leads',\n        path: '/',\n        active: true\n      }];\n      this.newOpportunity = this.fb.group({\n        name: ['', Validators.required],\n        email: ['', [Validators.required, Validators.email]],\n        phone: ['', Validators.required],\n        category: ['', Validators.required]\n      });\n\n      this._fetchData();\n\n      this.initChart();\n    } // convenience getter for easy access to form fields\n\n\n    get form1() {\n      return this.newOpportunity.controls;\n    }\n    /**\r\n     * fetches data\r\n     */\n\n\n    _fetchData() {\n      this.companyList = COMPANYLIST;\n    }\n    /**\r\n     * initialize chart\r\n     */\n\n\n    initChart() {\n      this.staticsChart = {\n        series: [{\n          name: 'Won Leads',\n          data: [75, 50, 75, 50, 75, 100, 80]\n        }, {\n          name: 'Lost Leads',\n          data: [65, 40, 65, 40, 65, 90, 65]\n        }],\n        chart: {\n          type: 'bar',\n          stacked: true,\n          height: 310,\n          toolbar: {\n            show: false\n          }\n        },\n        plotOptions: {\n          bar: {\n            columnWidth: '20%'\n          }\n        },\n        fill: {\n          opacity: 1\n        },\n        dataLabels: {\n          enabled: false\n        },\n        xaxis: {\n          categories: ['2012', '2013', '2014', '2015', '2016', '2017', '2018'],\n          axisBorder: {\n            show: false\n          },\n          axisTicks: {\n            show: false\n          }\n        },\n        colors: ['#4a81d4', '#e3eaef']\n      };\n    }\n    /**\r\n    * opens modal\r\n    * @param title title of modal\r\n    * @param data data to be used in modal\r\n    */\n\n\n    openModal() {\n      this.activeModal.open(this.content, {\n        centered: true\n      });\n    }\n    /**\r\n     * Search Method\r\n    */\n\n\n    searchData(searchTerm) {\n      if (searchTerm === '') {\n        this._fetchData();\n      } else {\n        let updatedData = COMPANYLIST; //  filter\n\n        updatedData = updatedData.filter(company => {\n          var _a;\n\n          return (_a = company.name) === null || _a === void 0 ? void 0 : _a.toLowerCase().includes(searchTerm);\n        });\n        this.companyList = updatedData;\n      }\n    }\n\n  }\n\n  LeadsComponent.ɵfac = function LeadsComponent_Factory(t) {\n    return new (t || LeadsComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  LeadsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LeadsComponent,\n    selectors: [[\"app-crm-leads\"]],\n    viewQuery: function LeadsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n      }\n    },\n    decls: 44,\n    vars: 10,\n    consts: [[\"title\", \"Leads\", 3, \"breadcrumbItems\"], [1, \"row\"], [1, \"col-lg-8\", \"order-lg-1\", \"order-2\"], [1, \"card\", \"mb-2\"], [1, \"card-body\"], [1, \"row\", \"justify-content-between\"], [1, \"col-auto\"], [1, \"mb-2\", \"mb-sm-0\"], [\"for\", \"inputPassword2\", 1, \"visually-hidden\"], [\"type\", \"search\", \"id\", \"inputPassword2\", \"name\", \"search\", \"placeholder\", \"Search...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-sm-6\"], [1, \"text-sm-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"waves-effect\", \"waves-light\", \"me-1\"], [1, \"mdi\", \"mdi-cog\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"waves-effect\", \"waves-light\", 3, \"click\"], [1, \"mdi\", \"mdi-plus-circle\", \"me-1\"], [\"class\", \"card mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", \"my-4\"], [\"href\", \"javascript:void(0);\", 1, \"text-danger\"], [1, \"mdi\", \"mdi-spin\", \"mdi-loading\", \"me-1\"], [1, \"col-lg-4\", \"order-lg-2\", \"order-1\"], [1, \"card\"], [1, \"header-title\", \"mb-3\"], [\"dir\", \"ltr\", 1, \"text-center\"], [1, \"row\", \"mt-2\"], [1, \"col-6\"], [\"data-plugin\", \"counterup\"], [1, \"text-muted\", \"font-13\", \"mb-0\", \"text-truncate\"], [\"id\", \"leads-statics\"], [1, \"apex-charts\", 3, \"series\", \"chart\", \"plotOptions\", \"colors\", \"fill\", \"dataLabels\", \"xaxis\"], [\"content\", \"\"], [1, \"row\", \"align-items-center\"], [1, \"col-sm-4\"], [1, \"d-flex\", \"align-items-start\"], [\"alt\", \"Generic placeholder image\", \"height\", \"64\", 1, \"d-flex\", \"align-self-center\", \"me-3\", \"rounded-circle\", 3, \"src\"], [1, \"w-100\"], [1, \"mt-0\", \"mb-2\", \"font-16\"], [1, \"mb-1\"], [1, \"mb-0\"], [1, \"col-sm-2\"], [1, \"text-center\", \"my-3\", \"my-sm-0\"], [1, \"mb-0\", \"text-muted\"], [1, \"text-center\", \"button-list\"], [\"href\", \"javascript: void(0);\", 1, \"btn\", \"btn-xs\", \"btn-primary\", \"waves-effect\", \"waves-light\"], [1, \"text-sm-end\", \"text-center\", \"mt-2\", \"mt-sm-0\"], [\"href\", \"javascript:void(0);\", 1, \"action-icon\"], [1, \"mdi\", \"mdi-square-edit-outline\"], [1, \"mdi\", \"mdi-delete\"], [1, \"modal-header\", \"bg-light\"], [\"id\", \"myCenterModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\", \"p-4\"], [3, \"formGroup\"], [\"addOpportunity\", \"ngForm\"], [1, \"mb-3\"], [\"for\", \"name\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"name\", \"placeholder\", \"Enter full name\", \"required\", \"\", \"formControlName\", \"name\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"exampleInputEmail1\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"placeholder\", \"Enter email\", \"required\", \"\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"position\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"position\", \"placeholder\", \"Enter phone number\", \"required\", \"\", \"formControlName\", \"phone\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"category\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"category\", \"placeholder\", \"Enter category\", \"required\", \"\", \"formControlName\", \"category\", 1, \"form-control\", 3, \"ngClass\"], [1, \"text-end\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"waves-effect\", \"waves-light\", \"me-1\"], [1, \"invalid-feedback\"]],\n    template: function LeadsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-page-title\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"form\", 7)(8, \"label\", 8);\n        i0.ɵɵtext(9, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function LeadsComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.searchTerm = $event;\n        })(\"ngModelChange\", function LeadsComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.searchData($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"div\", 10)(12, \"div\", 11)(13, \"button\", 12);\n        i0.ɵɵelement(14, \"i\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function LeadsComponent_Template_button_click_15_listener() {\n          return ctx.openModal();\n        });\n        i0.ɵɵelement(16, \"i\", 15);\n        i0.ɵɵtext(17, \" Add New\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(18, LeadsComponent_div_18_Template, 35, 5, \"div\", 16);\n        i0.ɵɵelementStart(19, \"div\", 17)(20, \"a\", 18);\n        i0.ɵɵelement(21, \"i\", 19);\n        i0.ɵɵtext(22, \" Load more \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 20)(24, \"div\", 21)(25, \"div\", 4)(26, \"h4\", 22);\n        i0.ɵɵtext(27, \"Leads Statics\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 23)(29, \"div\", 24)(30, \"div\", 25)(31, \"h3\", 26);\n        i0.ɵɵtext(32, \"1,284\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"p\", 27);\n        i0.ɵɵtext(34, \"Leads Won\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 25)(36, \"h3\", 26);\n        i0.ɵɵtext(37, \"7,841\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"p\", 27);\n        i0.ɵɵtext(39, \"Leads Lost\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"div\", 28);\n        i0.ɵɵelement(41, \"apx-chart\", 29);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(42, LeadsComponent_ng_template_42_Template, 32, 17, \"ng-template\", null, 30, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"breadcrumbItems\", ctx.pageTitle);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.companyList);\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"series\", ctx.staticsChart.series)(\"chart\", ctx.staticsChart.chart)(\"plotOptions\", ctx.staticsChart.plotOptions)(\"colors\", ctx.staticsChart.colors)(\"fill\", ctx.staticsChart.fill)(\"dataLabels\", ctx.staticsChart.dataLabels)(\"xaxis\", ctx.staticsChart.xaxis);\n      }\n    },\n    directives: [i3.PageTitleComponent, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i4.NgForOf, i5.ChartComponent, i2.FormGroupDirective, i2.RequiredValidator, i2.FormControlName, i4.NgClass, i4.NgIf],\n    styles: [\"\"]\n  });\n  return LeadsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}